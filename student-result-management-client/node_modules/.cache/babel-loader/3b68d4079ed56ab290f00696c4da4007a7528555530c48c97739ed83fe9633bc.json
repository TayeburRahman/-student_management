{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { userLoggedIn } from '../features/auth/authSlice';\nexport default function useAuthCheck() {\n  _s();\n  const dispatch = useDispatch();\n  const [authChecked, setAuthChecked] = useState(false);\n  useEffect(() => {\n    const localAuth = localStorage.getItem('auth');\n    if (localAuth) {\n      const auth = JSON.parse(localAuth);\n      if (auth !== null && auth !== void 0 && auth.token && auth.user) {\n        dispatch(userLoggedIn)({\n          token: auth.token,\n          user: auth.user\n        });\n      }\n    }\n    setAuthChecked(true);\n  }, [dispatch, authChecked]);\n  return authChecked;\n}\n_s(useAuthCheck, \"L3r1qykAsoB0+9LDFnLnJBd4/a8=\", true);","map":{"version":3,"names":["useEffect","useState","userLoggedIn","useAuthCheck","dispatch","useDispatch","authChecked","setAuthChecked","localAuth","localStorage","getItem","auth","JSON","parse","token","user"],"sources":["/media/tayebur/D40421030420E9E6/project/node&React/student-result-management/student-result-management-client/src/hooks/useAuthCheck.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { userLoggedIn } from '../features/auth/authSlice';\n\nexport default function useAuthCheck(){\n   const dispatch = useDispatch();\n\n   const [authChecked, setAuthChecked] = useState(false)\n\n   useEffect(() => {\n    const localAuth = localStorage.getItem('auth')\n\n    if(localAuth){\n      const auth = JSON.parse(localAuth);\n      if(auth?.token && auth.user){\n         dispatch(userLoggedIn)({\n            token: auth.token,\n            user: auth.user,\n         })\n      }\n    } \n    setAuthChecked(true)\n   }, [dispatch, authChecked]);\n\n   return authChecked\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,YAAY,QAAQ,4BAA4B;AAEzD,eAAe,SAASC,YAAY,GAAE;EAAA;EACnC,MAAMC,QAAQ,GAAGC,WAAW,EAAE;EAE9B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EAErDD,SAAS,CAAC,MAAM;IACf,MAAMQ,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAE9C,IAAGF,SAAS,EAAC;MACX,MAAMG,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,SAAS,CAAC;MAClC,IAAGG,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEG,KAAK,IAAIH,IAAI,CAACI,IAAI,EAAC;QACzBX,QAAQ,CAACF,YAAY,CAAC,CAAC;UACpBY,KAAK,EAAEH,IAAI,CAACG,KAAK;UACjBC,IAAI,EAAEJ,IAAI,CAACI;QACd,CAAC,CAAC;MACL;IACF;IACAR,cAAc,CAAC,IAAI,CAAC;EACrB,CAAC,EAAE,CAACH,QAAQ,EAAEE,WAAW,CAAC,CAAC;EAE3B,OAAOA,WAAW;AACrB;AAAC,GArBuBH,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}