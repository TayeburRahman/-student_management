{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { userLoggedIn } from '../features/auth/authSlice';\nexport default function useAuthCheck() {\n  _s();\n  const dispatch = useDispatch();\n  const [authChecked, setAuthChecked] = useState(false);\n  useEffect(() => {\n    const localAuth = localStorage.getItem('auth');\n    if (localAuth) {\n      const auth = JSON.parse(localAuth);\n      if (auth !== null && auth !== void 0 && auth.token && auth !== null && auth !== void 0 && auth.user) {\n        dispatch(userLoggedIn)({\n          token: auth.token,\n          user: auth.user\n        });\n      }\n    }\n    setAuthChecked(true);\n  }, []);\n  return authChecked;\n}\n_s(useAuthCheck, \"L3r1qykAsoB0+9LDFnLnJBd4/a8=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"names":["useEffect","useState","useDispatch","userLoggedIn","useAuthCheck","dispatch","authChecked","setAuthChecked","localAuth","localStorage","getItem","auth","JSON","parse","token","user"],"sources":["/media/tayebur/D40421030420E9E6/project/node&React/student-result-management/student-result-management-client/src/hooks/useAuthCheck.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { userLoggedIn } from '../features/auth/authSlice';\n\nexport default function useAuthCheck(){\n\n   const dispatch = useDispatch();\n\n   const [authChecked, setAuthChecked] = useState(false)\n\n   useEffect(() => {\n    const localAuth = localStorage.getItem('auth')\n\n    if(localAuth){\n      const auth = JSON.parse(localAuth);\n\n      if(auth?.token && auth?.user){\n         dispatch(userLoggedIn)({\n            token: auth.token,\n            user: auth.user,\n         })\n      }\n    } \n    setAuthChecked(true)\n   }, []);\n\n   return authChecked\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,YAAY,QAAQ,4BAA4B;AAEzD,eAAe,SAASC,YAAY,GAAE;EAAA;EAEnC,MAAMC,QAAQ,GAAGH,WAAW,EAAE;EAE9B,MAAM,CAACI,WAAW,EAAEC,cAAc,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EAErDD,SAAS,CAAC,MAAM;IACf,MAAMQ,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAE9C,IAAGF,SAAS,EAAC;MACX,MAAMG,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,SAAS,CAAC;MAElC,IAAGG,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEG,KAAK,IAAIH,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEI,IAAI,EAAC;QAC1BV,QAAQ,CAACF,YAAY,CAAC,CAAC;UACpBW,KAAK,EAAEH,IAAI,CAACG,KAAK;UACjBC,IAAI,EAAEJ,IAAI,CAACI;QACd,CAAC,CAAC;MACL;IACF;IACAR,cAAc,CAAC,IAAI,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOD,WAAW;AACrB;AAAC,GAvBuBF,YAAY;EAAA,QAEhBF,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}