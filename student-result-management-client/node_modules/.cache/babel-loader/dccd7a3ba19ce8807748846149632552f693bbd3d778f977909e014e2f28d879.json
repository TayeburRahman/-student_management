{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nexport const apiSlice = createApi({\n  reducerPath: 'api',\n  baseQuery: fetchBaseQuery({\n    baseUrl: process.env.SERVER_API_BASE_URL || \"http://localhost:6060\",\n    prepareHeaders: async (headers, _ref) => {\n      var _getState, _getState$auth;\n      let {\n        getState,\n        endpoint\n      } = _ref;\n      const token = await ((_getState = getState()) === null || _getState === void 0 ? void 0 : (_getState$auth = _getState.auth) === null || _getState$auth === void 0 ? void 0 : _getState$auth.token);\n      if (token) {\n        headers.set('Authorization', `Bearer ${token}`);\n      }\n      return headers;\n    }\n  }),\n  tagTypes: [],\n  endpoints: builder => ({})\n});","map":{"version":3,"names":["createApi","fetchBaseQuery","apiSlice","reducerPath","baseQuery","baseUrl","process","env","SERVER_API_BASE_URL","prepareHeaders","headers","getState","endpoint","token","auth","set","tagTypes","endpoints","builder"],"sources":["/media/tayebur/D40421030420E9E6/project/node&React/student-result-management/student-result-management-client/src/features/apiSlice.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\n\n\nexport const apiSlice = createApi({\n    reducerPath: 'api',\n    baseQuery: fetchBaseQuery({\n        baseUrl: process.env.SERVER_API_BASE_URL || \"http://localhost:6060\",\n        prepareHeaders: async (headers, {getState, endpoint}) =>{\n            const token = await getState()?.auth?.token\n\n            if(token) {\n                headers.set('Authorization', `Bearer ${token}`)\n            }\n\n            return headers;\n        }\n    }),\n    tagTypes: [],\n    endpoints:(builder) =>({ }),\n})"],"mappings":"AAAA,SAASA,SAAS,EAAEC,cAAc,QAAQ,8BAA8B;AAGxE,OAAO,MAAMC,QAAQ,GAAGF,SAAS,CAAC;EAC9BG,WAAW,EAAE,KAAK;EAClBC,SAAS,EAAEH,cAAc,CAAC;IACtBI,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,mBAAmB,IAAI,uBAAuB;IACnEC,cAAc,EAAE,OAAOC,OAAO,WAA0B;MAAA;MAAA,IAAxB;QAACC,QAAQ;QAAEC;MAAQ,CAAC;MAChD,MAAMC,KAAK,GAAG,oBAAMF,QAAQ,EAAE,gEAAV,UAAYG,IAAI,mDAAhB,eAAkBD,KAAK;MAE3C,IAAGA,KAAK,EAAE;QACNH,OAAO,CAACK,GAAG,CAAC,eAAe,EAAG,UAASF,KAAM,EAAC,CAAC;MACnD;MAEA,OAAOH,OAAO;IAClB;EACJ,CAAC,CAAC;EACFM,QAAQ,EAAE,EAAE;EACZC,SAAS,EAAEC,OAAO,KAAK,CAAE,CAAC;AAC9B,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}